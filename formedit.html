<!DOCTYPE html>
<html lang="en">

<head>
  <title>HOVEIN</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="shortcut icon" href="leafp.svg">

  <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Cormorant+Garamond:300,300i,400,400i,500,500i,600,600i,700,700i"
    rel="stylesheet">

  <link rel="stylesheet" href="css/open-iconic-bootstrap.min.css">
  <link rel="stylesheet" href="css/animate.css">
  <link rel="stylesheet" href="css/owl.carousel.min.css">
  <link rel="stylesheet" href="css/owl.theme.default.min.css">
  <link rel="stylesheet" href="css/magnific-popup.css">
  <link rel="stylesheet" href="css/aos.css">
  <link rel="stylesheet" href="css/ionicons.min.css">
  <link rel="stylesheet" href="css/flaticon.css">
  <link rel="stylesheet" href="css/icomoon.css">
  <link rel="stylesheet" href="css/style.css">
</head>

<body data-spy="scroll" data-target=".site-navbar-target" data-offset="300">
  <nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light site-navbar-target"
    id="ftco-navbar">
    <div class="container">
      <a class="navbar-brand" href="index.html">HOVEIN <img src="leafp.svg" class="logo-image"></a>
      <button class="navbar-toggler js-fh5co-nav-toggle fh5co-nav-toggle" type="button" data-toggle="collapse"
        data-target="#ftco-nav" aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="oi oi-menu"></span> Menu
      </button>

      <div class="collapse navbar-collapse" id="ftco-nav">
        <ul class="navbar-nav nav ml-auto">
          <li class="nav-item"><a href="index.html" class="nav-link"><span>Home</span></a></li>
          <li class="nav-item"><a href="about.html" class="nav-link"><span>About</span></a></li>
          <li class="nav-item"><a href="contact.html" class="nav-link"><span>Contact</span></a></li>
        </ul>
      </div>
  </nav>

  <section class="ftco-section contact-section ftco-no-pb" id="contact-section">
    <div class="container">
        <div class="row justify-content-center mb-5 pb-3">
            <div class="col-md-7 heading-section text-center ftco-animate">
                <span class="subheading">Komentar</span>
                <h2 class="mb-4">Edit Komentar</h2>
            </div>
        </div>
        <div class="col-md-12 tour-wrap">
            <div class="pt-5 mt-5">
              <ul class="comment-list">
                <li id="commentList" class="comments">
                  <!-- JANGAN DI TAMBAH APA APA -->
                </li>
              </ul>
              <!-- END comment-list -->
                <div class="comment-form-wrap pt-5">
                  <form class="p-5 bg-light" id="commentForm">
                    <div class="form-group">
                      <label for="name">Name *</label>
                      <input type="text" class="form-control" id="name" name="nama" required>
                    </div>
                    <div class="form-group">
                      <label for="email">Email *</label>
                      <input type="email" class="form-control" id="email" name="email" required>
                    </div>
                    <div class="form-group">
                      <label for="namatempat">Nama Tempat</label>
                      <input type="text" class="form-control" id="namatempat" name="namatempat">
                    </div>
                    <div class="form-group">
                      <label for="rating">Rating</label>
                      <input type="number" class="form-control" id="rating" name="rating" min="1" max="5">
                    </div>
                    <div class="form-group">
                      <label for="rekomendasi">Rekomendasi</label>
                      <input type="text" class="form-control" id="rekomendasi" name="rekomendasi">
                    </div>
                    <div class="form-group">
                      <label for="message">Message</label>
                      <textarea name="message" id="message" cols="30" rows="10" class="form-control" required></textarea>
                    </div>
                    <div class="form-group">
                      <label for="tempatinginkunjung">Tempat Yang Ingin Anda Kunjungi</label>
                      <input type="text" class="form-control" id="tempatinginkunjung" name="tempatinginkunjung">
                    </div>
                    <div class="form-group">
                        <input type="submit" value="Save Changes" class="btn py-3 px-4 btn-primary">
                    </div>
                  </form>
                </div>                              
            </div>
          </div>
        </div>
  </section> <!-- .section -->


  <footer class="ftco-footer ftco-section">
    <div class="container">
      <div class="row mb-5">
        <div class="col-md">
          <div class="ftco-footer-widget mb-4">
            <h2><a href="index.html">HOVEIN</a></span></h2>
            <ul class="ftco-footer-social list-unstyled float-md-left float-lft mt-5">
              <li class="ftco-animate"><a href="https://twitter.com/keyyaraa" target="_blank"><span
                    class="icon-twitter"></span></a></li>
              <li class="ftco-animate"><a href="https://t.me/reinaa16" target="_blank"><span
                    class="icon-telegram"></span></a></li>
              <li class="ftco-animate"><a href="https://instagram.com/kireinaaar_" target="_blank"><span
                    class="icon-instagram"></span></a></li>
              <li class="ftco-animate"><a href="https://youtube.com/@kireinaamani16" target="_blank"><span
                    class="icon-youtube"></span></a></li>
            </ul>
          </div>
        </div>
        <div class="col-md">
          <div class="ftco-footer-widget mb-4 ml-md-4">
            <h2 class="ftco-heading-2">Information</h2>
            <ul class="list-unstyled">
              <li><a href="about.html">About</a></li>
              <li><a href="contact.html">Contact Us</a></li>
            </ul>
          </div>
        </div>
        <div class="col-md">
          <div class="ftco-footer-widget mb-4">
            <h2 class="ftco-heading-2">Experience</h2>
            <ul class="list-unstyled">
              <li><a href="hotel.html">Hotel</a></li>
              <li><a href="kuliner.html">Cafe & Kuliner</a></li>
              <li><a href="mall.html">Mall</a></li>
              <li><a href="family.html">Wisata</a></li>
            </ul>
          </div>
        </div>
        <div class="col-md">
          <div class="ftco-footer-widget mb-4">
            <h2 class="ftco-heading-2">Have a Questions?</h2>
            <div class="block-23 mb-3">
              <ul>
                <li><span class="icon icon-map-marker"></span><span class="text">Bandung, Jawa Barat, Indonesia</span>
                </li>
                <li><a href="https://wa.me/6281214014987"><span class="icon icon-phone"></span><span class="text">+62
                      81214014987</span></a></li>
                <li><a href="mailto:kireinaar1618@gmail.com"><span class="icon icon-envelope"></span><span
                      class="text">kireinaar1618@gmail.com</span></a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12 text-center">

          <p><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
            Copyright &copy;
            <script>document.write(new Date().getFullYear());</script> All rights reserved | HOVEIN <i
              class="icon-heart color-danger" aria-hidden="true"></i> by <a href="https://colorlib.com"
              target="_blank">Kireina Amani</a>
            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
          </p>
        </div>
      </div>
    </div>
  </footer>

  <!-- loader -->
  <div id="ftco-loader" class="show fullscreen"><svg class="circular" width="48px" height="48px">
      <circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee" />
      <circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10"
        stroke="#F96D00" />
    </svg></div>

  <!-- UNTUK AMBIL NAMA TEMPAT DARI URL -->
  <script>
    var url_string = window.location.href;
    var url = new URL(url_string);
    var placeUrl = url.searchParams.get("tempat");
    // console.log(tvid);
    localStorage.setItem("tempat", placeUrl)
  </script>


<script>

  function getQueryParam(name) {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get(name);
  }

  // Retrieve the commentId from the URL
  const commentId = getQueryParam('commentId');

  const commentList = document.getElementById('commentList');

  // Function to fetch and display comments
  function fetchAndDisplayComments() {
    fetch(`https://hoveinbackend.vercel.app/hovein/${commentId}`, {
      method: "GET",
    })
    .then(response => {
      if (!response.ok) {
        throw new Error(`HTTP error! Status: ${response.status}`);
      }
      return response.json();
    })
    .then(data => {
      // Clear existing comments
      commentList.innerHTML = "";

      data.forEach(comment => {
        // display old data in the form?
        document.getElementById('name').value = comment.nama;
        document.getElementById('email').value = comment.email;
        document.getElementById('namatempat').value = comment.namatempat;
        document.getElementById('rating').value = comment.rating;
        document.getElementById('rekomendasi').value = comment.rekomendasi;
        document.getElementById('message').value = comment.message;
        document.getElementById('tempatinginkunjung').value = comment.tempatinginkunjung;

        // Set the localStorage value for later use
        localStorage.setItem("tempat", comment.place);
      });
    })
    .catch(error => console.error('Error fetching comments:', error));
  }

  // Function to handle the submission of edited comment
  function saveEditedComment(commentId, editedData) {
    
  }


  // Helper function to create a button with an icon
// Helper function to create a button with an icon
function createButtonWithIcon(iconPath, altText, action, additionalClass) {
  const button = document.createElement('button');
  button.classList.add('icon-button');
  if (additionalClass) {
    button.classList.add(additionalClass);
  }

  const icon = document.createElement('img');
  icon.src = iconPath;
  icon.alt = altText;

  button.appendChild(icon);

  if (action === 'edit') {
    button.addEventListener('click', () => handleEdit(comment._id));
  } else if (action === 'delete') {
    button.addEventListener('click', () => handleDelete(comment._id));
  }

  return button;
}


  // Initial fetch and display comments
  fetchAndDisplayComments();
</script>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const commentForm = document.getElementById('commentForm');

    commentForm.addEventListener('submit', function (event) {
      event.preventDefault();

      // Retrieve form data
      const name = document.getElementById('name').value;
      const email = document.getElementById('email').value;
      const namatempat = document.getElementById('namatempat').value;
      const rating = document.getElementById('rating').value;
      const rekomendasi = document.getElementById('rekomendasi').value;
      const message = document.getElementById('message').value;
      const tempatinginkunjung = document.getElementById('tempatinginkunjung').value;
      let place = localStorage.getItem("tempat");

      // Prepare data object
      const data = {
        "nama": name,
        "email": email,
        "rekomendasi": rekomendasi,
        "message": message,
        "namatempat": namatempat,
        "rating": rating,
        "tempatinginkunjung": tempatinginkunjung,
        "place": place
      };

      // Assuming you have an API endpoint for updating comments
      fetch(`https://hoveinbackend.vercel.app/hovein/${commentId}`, {
        method: 'PUT',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(data),
      })
        .then(response => response.json())
        .then(data => {
          console.log('Comment edited successfully:', data);
          window.location.href = 'index.html';
        })
        .catch(error => console.error('Error editing comment:', error));
    });
  });
</script>


  <script src="js/jquery.min.js"></script>
  <script src="js/jquery-migrate-3.0.1.min.js"></script>
  <script src="js/popper.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/jquery.easing.1.3.js"></script>
  <script src="js/jquery.waypoints.min.js"></script>
  <script src="js/jquery.stellar.min.js"></script>
  <script src="js/owl.carousel.min.js"></script>
  <script src="js/jquery.magnific-popup.min.js"></script>
  <script src="js/aos.js"></script>
  <script src="js/jquery.animateNumber.min.js"></script>
  <script src="js/scrollax.min.js"></script>
  <script
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
  <script src="js/google-map.js"></script>

  <script src="js/main.js"></script>

</body>

</html>